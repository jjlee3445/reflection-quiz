<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Reflection Quiz 1</title>
  <script src="https://unpkg.com/survey-core@1.9.107/survey.core.min.js"></script>
  <script src="https://unpkg.com/survey-knockout@1.9.107/survey.ko.min.js"></script>
  <link href="https://unpkg.com/survey-core@1.9.107/defaultV2.min.css" rel="stylesheet" />
  <style>
    #surveyContainer {
      max-width: 800px;
      margin: auto;
      padding: 20px;
    }
    #surveyResult {
      max-width: 800px;
      margin: 40px auto;
      font-size: 18px;
      background: #f1f1f1;
      padding: 20px;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <div id="surveyContainer"></div>
  <div id="surveyResult"></div>

  <script>
    const surveyJSON = {
      title: "Reflection Quiz 1",
      showProgressBar: "top",
      pages: [
        {
          elements: [
            {
              type: "matrix",
              name: "reflectionMatrix",
              title: "Please indicate how much you agree with each statement:",
              isAllRowRequired: true,
              columns: [
                { value: 1, text: "Strongly Disagree" },
                { value: 2, text: "Disagree" },
                { value: 3, text: "Neutral" },
                { value: 4, text: "Agree" },
                { value: 5, text: "Strongly Agree" }
              ],
              rows: [
                { value: "q1", text: "1. I often go out of my way to help others, even if it means sacrificing my own time and resources." },
                { value: "q2", text: "2. I am comfortable with compromising when resolving conflicts and disputes." },
                { value: "q3", text: "3. I have a patient and compassionate approach with students who are struggling." },
                { value: "q4", text: "4. I find it difficult to say no when someone asks me to take on extra work or responsibilities." },
                { value: "q5", text: "5. I am sensitive to the needs and concerns of my colleagues and try to be understanding and empathetic towards them." },
                { value: "q6", text: "6. I prefer to avoid conflicts and disagreements at work." },
                { value: "q7", text: "7. I make sacrifices for the greater good of the school and my students." },
                { value: "q8", text: "8. I believe that it is important to be respectful and considerate of others, even in difficult situations." },
                { value: "q9", text: "9. Students and colleagues see me as an empathetic person." },
                { value: "q10", text: "10. My presence makes students and colleagues feel at ease." },
                { value: "q11", text: "11. I feel genuine concern for students and colleagues." },
                { value: "q12", text: "12. Others would consider me soft-hearted." },
                { value: "q13", text: "13. I tend to put others before myself." },
                { value: "q14", text: "14. I empathize with my student’s and colleague’s situations." },
                { value: "q15", text: "15. I tend to be indirect in dealing with issues with others." }
              ]
            }
          ]
        }
      ]
    };

    const survey = new Survey.Model(surveyJSON);

    survey.onComplete.add(function (sender) {
      const responses = sender.data.reflectionMatrix;
      let total = 0;
      for (let key in responses) {
        total += parseInt(responses[key], 10);
      }

      let message = "";

      if (total <= 29) {
        message = `<strong>Your Total Score: ${total}</strong><p>You may have a <strong>low level of agreeableness</strong>. You likely value independence, critical thinking, and personal goals.</p>`;
      } else if (total <= 44) {
        message = `<strong>Your Total Score: ${total}</strong><p>You may have a <strong>low-medium level of agreeableness</strong>. You may prioritize independence and personal goals over collaboration.</p>`;
      } else if (total <= 59) {
        message = `<strong>Your Total Score: ${total}</strong><p>You may have a <strong>medium-high level of agreeableness</strong>. You are likely cooperative and value team goals.</p>`;
      } else {
        message = `<strong>Your Total Score: ${total}</strong><p>You may be <strong>highly agreeable</strong>. You thrive in team settings but may struggle with assertiveness or boundaries.</p>`;
      }

      document.getElementById("surveyResult").innerHTML = message;
    });

    Survey.StylesManager.applyTheme("defaultV2");
    Survey.SurveyNG.render("surveyContainer", { model: survey });
  </script>
</body>
</html>
